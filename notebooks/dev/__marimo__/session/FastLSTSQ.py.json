{
  "version": "1",
  "metadata": {
    "marimo_version": "0.11.17"
  },
  "cells": [
    {
      "id": "Hbol",
      "code_hash": "1d0db38904205bec4d6f6f6a1f6cec3e",
      "outputs": [
        {
          "type": "data",
          "data": {
            "text/plain": ""
          }
        }
      ],
      "console": []
    },
    {
      "id": "MJUe",
      "code_hash": "d230cf55f71ba8ce8584d861549b442c",
      "outputs": [
        {
          "type": "data",
          "data": {
            "text/html": "<span class=\"markdown prose dark:prose-invert\"><h1 id=\"fastlstsq-api-usage\">FastLSTSQ API Usage</h1></span>"
          }
        }
      ],
      "console": []
    },
    {
      "id": "vblA",
      "code_hash": "894617db68591af7d73387a6c87f7e72",
      "outputs": [
        {
          "type": "data",
          "data": {
            "text/plain": ""
          }
        }
      ],
      "console": [
        {
          "type": "stream",
          "name": "stdout",
          "text": "[03/09/25 01:37:43] DEBUG    Logging configured with level: DEBUG  logging.py:68\n"
        }
      ]
    },
    {
      "id": "bkHC",
      "code_hash": "2f2ab12bbfb118267b0cd774724c70d8",
      "outputs": [
        {
          "type": "data",
          "data": {
            "text/plain": ""
          }
        }
      ],
      "console": []
    },
    {
      "id": "lEQa",
      "code_hash": "58f82abbb4616b889fada6ef2c981e00",
      "outputs": [
        {
          "type": "data",
          "data": {
            "text/plain": ""
          }
        }
      ],
      "console": [
        {
          "type": "stream",
          "name": "stdout",
          "text": "[03/09/25 01:37:47] WARNING  FastLeastSquares is experimental and generics.py:71\n                             may change in future versions.                     \n                    DEBUG    Initializing FastLeastSquares    leastsquares.py:40\n                             with parameters: Y=['Y1', 'Y2',                    \n                             'Y3'], T=T, G=['G1', 'G2', 'G3',                   \n                             'G4', 'G5', 'G6', 'G7', 'G8'],                     \n                             X=['X1', 'X2', 'X3'], W=['W1',                     \n                             'W2', 'W3', 'W4', 'W5', 'W6'],                     \n                             discrete_treatment=True,                           \n                             engine=cpu                                         \n                    DEBUG    Created formula: Y1 + Y2 + Y3 ~  leastsquares.py:64\n                             T + C(G1)*T + C(G2)*T + C(G3)*T                    \n                             + C(G4)*T + C(G5)*T + C(G6)*T +                    \n                             C(G7)*T + C(G8)*T + X1*T + X2*T                    \n                             + X3*T + W1 + W2 + W3 + W4 + W5                    \n                             + W6                                               \n"
        }
      ]
    },
    {
      "id": "PKri",
      "code_hash": "bf16e4110814968bff61f957da08a598",
      "outputs": [
        {
          "type": "data",
          "data": {
            "text/plain": ""
          }
        }
      ],
      "console": [
        {
          "type": "stream",
          "name": "stdout",
          "text": "[03/09/25 01:37:51] INFO     Converting data to design       leastsquares.py:107\n                             matrix...                                          \n"
        },
        {
          "type": "stream",
          "name": "stdout",
          "text": "[03/09/25 01:37:56] DEBUG    Design matrix conversion        leastsquares.py:111\n                             completed in 5.17 seconds                          \n                    DEBUG    Moving data to cpu              leastsquares.py:113\n"
        },
        {
          "type": "stream",
          "name": "stdout",
          "text": "                    DEBUG    Data shape - X: (1000000, 78),  leastsquares.py:118\n                             y: (1000000, 3)                                    \n                    DEBUG    Data transfer completed in 0.19 leastsquares.py:123\n                             seconds                                            \n                    INFO     Fitting regression model...     leastsquares.py:125\n"
        },
        {
          "type": "stream",
          "name": "stdout",
          "text": "                    DEBUG    Model fitting completed in 0.08 leastsquares.py:150\n                             seconds                                            \n                    DEBUG    Creating treatment difference   leastsquares.py:263\n                             matrix                                             \n"
        },
        {
          "type": "stream",
          "name": "stdout",
          "text": "[03/09/25 01:38:07] DEBUG    Difference matrix created in    leastsquares.py:282\n                             11.39 seconds. Shape: (1000000,                    \n                             78)                                                \n"
        },
        {
          "type": "stream",
          "name": "stdout",
          "text": "                    INFO     Estimating Average Treatment    leastsquares.py:162\n                             Effects (ATEs)...                                  \n"
        },
        {
          "type": "stream",
          "name": "stdout",
          "text": "[03/09/25 01:38:08] DEBUG    ATE estimation completed in     leastsquares.py:181\n                             0.49 seconds                                       \n                    INFO     Estimating Group Average        leastsquares.py:203\n                             Treatment Effects (GATEs)...                       \n"
        },
        {
          "type": "stream",
          "name": "stdout",
          "text": "[03/09/25 01:38:09] DEBUG    Starting parallel processing    leastsquares.py:247\n                             with -1 jobs                                       \n"
        },
        {
          "type": "stream",
          "name": "stdout",
          "text": "[03/09/25 01:38:11] DEBUG    GATE estimation completed in    leastsquares.py:260\n                             3.16 seconds                                       \n"
        }
      ]
    },
    {
      "id": "Xref",
      "code_hash": "225895fd626eef0ae12fc87f5081a42d",
      "outputs": [
        {
          "type": "data",
          "data": {
            "application/json": "{\"outcomes\": [\"Y1\", \"Y2\", \"Y3\"], \"ate\": \"text/plain:[ 0.00961466 -0.00682365  0.00342111]\", \"std_err\": \"text/plain:[0.0062056  0.00620381 0.00621047]\", \"t_stat\": \"text/plain:[ 1.54935223 -1.09991209  0.55086242]\", \"pval\": \"text/plain:[0.12129707 1.72862957 0.58172799]\", \"n\": 19929, \"n_treated\": 9954, \"n_control\": 9975}"
          }
        }
      ],
      "console": [
        {
          "type": "stream",
          "name": "stdout",
          "text": "[03/09/25 01:05:14] DEBUG    Creating treatment difference      fastlstsq.py:280\n                             matrix                                             \n"
        },
        {
          "type": "stream",
          "name": "stdout",
          "text": "                    DEBUG    Difference matrix created in 0.19  fastlstsq.py:299\n                             seconds. Shape: (19929, 78)                        \n                    INFO     Estimating single Conditional       fastlstsq.py:99\n                             Average Treatment Effect (CATE)...                 \n"
        }
      ]
    },
    {
      "id": "SFPL",
      "code_hash": "d980e0ad448f88bb7b132345eb45d1c6",
      "outputs": [
        {
          "type": "data",
          "data": {
            "text/html": "<span class=\"markdown prose dark:prose-invert\"><h2 id=\"performance-measurement\">Performance Measurement</h2></span>"
          }
        }
      ],
      "console": []
    },
    {
      "id": "BYtC",
      "code_hash": "6e414ce984ede562ff7c0049bb167aa6",
      "outputs": [
        {
          "type": "data",
          "data": {
            "text/plain": ""
          }
        }
      ],
      "console": [
        {
          "type": "stream",
          "name": "stdout",
          "text": "[03/09/25 00:13:18] INFO     Converting data to design          fastlstsq.py:146\n                             matrix...                                          \n"
        },
        {
          "type": "stream",
          "name": "stdout",
          "text": "[03/09/25 00:13:45] DEBUG    Design matrix conversion completed fastlstsq.py:150\n                             in 27.51 seconds                                   \n                    DEBUG    Moving data to cpu                 fastlstsq.py:152\n"
        },
        {
          "type": "stream",
          "name": "stdout",
          "text": "                    DEBUG    Data shape - X: (5000000, 78), y:  fastlstsq.py:157\n                             (5000000, 3)                                       \n                    DEBUG    Data transfer completed in 0.19    fastlstsq.py:162\n                             seconds                                            \n                    INFO     Fitting regression model...        fastlstsq.py:164\n"
        },
        {
          "type": "stream",
          "name": "stdout",
          "text": "                    DEBUG    Model fitting completed in 0.07    fastlstsq.py:189\n                             seconds                                            \n                    DEBUG    Creating treatment difference      fastlstsq.py:301\n                             matrix                                             \n"
        },
        {
          "type": "stream",
          "name": "stdout",
          "text": "[03/09/25 00:14:51] DEBUG    Difference matrix created in 66.02 fastlstsq.py:320\n                             seconds. Shape: (5000000, 78)                      \n                    INFO     Estimating Average Treatment       fastlstsq.py:201\n                             Effects (ATEs)...                                  \n"
        },
        {
          "type": "stream",
          "name": "stdout",
          "text": "[03/09/25 00:14:52] DEBUG    ATE estimation completed in 0.39   fastlstsq.py:220\n                             seconds                                            \n                    INFO     Estimating Group Average Treatment fastlstsq.py:242\n                             Effects (GATEs)...                                 \n"
        },
        {
          "type": "stream",
          "name": "stdout",
          "text": "[03/09/25 00:14:57] DEBUG    Starting parallel processing with  fastlstsq.py:285\n                             20 jobs                                            \n"
        },
        {
          "type": "stream",
          "name": "stdout",
          "text": "[03/09/25 00:15:03] DEBUG    GATE estimation completed in 11.50 fastlstsq.py:298\n                             seconds                                            \n"
        }
      ]
    },
    {
      "id": "LfQb",
      "code_hash": null,
      "outputs": [
        {
          "type": "data",
          "data": {
            "text/plain": ""
          }
        }
      ],
      "console": []
    },
    {
      "id": "RGSE",
      "code_hash": null,
      "outputs": [],
      "console": []
    },
    {
      "id": "lzxb",
      "code_hash": null,
      "outputs": [
        {
          "type": "data",
          "data": {
            "text/html": "<pre style='font-size: 12px'>&#x27;Y1 + Y2 + Y3 ~ T + C(G1)*T + C(G2)*T + C(G3)*T + C(G4)*T + C(G5)*T + C(G6)*T + C(G7)*T + C(G8)*T + X1*T + X2*T + X3*T + W1 + W2 + W3 + W4 + W5 + W6&#x27;</pre>"
          }
        }
      ],
      "console": []
    },
    {
      "id": "qOee",
      "code_hash": null,
      "outputs": [
        {
          "type": "data",
          "data": {
            "text/html": "<marimo-ui-element object-id='qOee-0' random-id='6899ae02-c725-06ab-a847-0dae69b06bef'><marimo-table data-initial-value='[]' data-label='null' data-data='&quot;./@file/2789-2402077-Pv2gI0aO.csv&quot;' data-total-rows='19929' data-total-columns='23' data-banner-text='&quot;&quot;' data-pagination='true' data-page-size='10' data-field-types='[[&quot;Y1&quot;, [&quot;number&quot;, &quot;float64&quot;]], [&quot;Y2&quot;, [&quot;number&quot;, &quot;float64&quot;]], [&quot;Y3&quot;, [&quot;number&quot;, &quot;float64&quot;]], [&quot;T&quot;, [&quot;integer&quot;, &quot;int64&quot;]], [&quot;G1&quot;, [&quot;string&quot;, &quot;category&quot;]], [&quot;G2&quot;, [&quot;string&quot;, &quot;category&quot;]], [&quot;G3&quot;, [&quot;string&quot;, &quot;category&quot;]], [&quot;G4&quot;, [&quot;string&quot;, &quot;category&quot;]], [&quot;G5&quot;, [&quot;string&quot;, &quot;category&quot;]], [&quot;G6&quot;, [&quot;string&quot;, &quot;category&quot;]], [&quot;G7&quot;, [&quot;string&quot;, &quot;category&quot;]], [&quot;G8&quot;, [&quot;string&quot;, &quot;category&quot;]], [&quot;X1&quot;, [&quot;number&quot;, &quot;float64&quot;]], [&quot;X2&quot;, [&quot;number&quot;, &quot;float64&quot;]], [&quot;X3&quot;, [&quot;number&quot;, &quot;float64&quot;]], [&quot;W1&quot;, [&quot;number&quot;, &quot;float64&quot;]], [&quot;W2&quot;, [&quot;number&quot;, &quot;float64&quot;]], [&quot;W3&quot;, [&quot;number&quot;, &quot;float64&quot;]], [&quot;W4&quot;, [&quot;number&quot;, &quot;float64&quot;]], [&quot;W5&quot;, [&quot;number&quot;, &quot;float64&quot;]], [&quot;W6&quot;, [&quot;number&quot;, &quot;float64&quot;]], [&quot;product_group&quot;, [&quot;string&quot;, &quot;object&quot;]], [&quot;modality&quot;, [&quot;string&quot;, &quot;object&quot;]]]' data-show-filters='true' data-show-download='true' data-show-column-summaries='true' data-row-headers='[&quot;&quot;]' data-has-stable-row-id='false'></marimo-table></marimo-ui-element>"
          }
        }
      ],
      "console": []
    },
    {
      "id": "jRNZ",
      "code_hash": null,
      "outputs": [
        {
          "type": "data",
          "data": {
            "application/json": "{\"outcomes\": [\"Y1\", \"Y2\", \"Y3\"], \"ate\": \"text/plain:[ 0.00815418 -0.00655838  0.00183916]\", \"std_err\": \"text/plain:[0.00599444 0.00599272 0.00599915]\", \"t_stat\": \"text/plain:[ 1.3602902  -1.09439059  0.30656955]\", \"pval\": \"text/plain:[0.17373811 1.72621629 0.75917103]\", \"n\": 40011, \"n_treated\": 20065, \"n_control\": 19946}"
          }
        }
      ],
      "console": []
    },
    {
      "id": "ZBrm",
      "code_hash": null,
      "outputs": [
        {
          "type": "data",
          "data": {
            "text/plain": ""
          }
        }
      ],
      "console": [
        {
          "type": "stream",
          "name": "stdout",
          "text": "[03/08/25 23:00:35] DEBUG    Logging configured with level: Level  logging.py:63\n                             1                                                  \n"
        }
      ]
    },
    {
      "id": "xwty",
      "code_hash": null,
      "outputs": [
        {
          "type": "data",
          "data": {
            "application/json": "[\"G\", \"T\", \"W\", \"X\", \"Y\", \"__class__\", \"__delattr__\", \"__dict__\", \"__dir__\", \"__doc__\", \"__eq__\", \"__format__\", \"__ge__\", \"__getattribute__\", \"__gt__\", \"__hash__\", \"__init__\", \"__init_subclass__\", \"__le__\", \"__lt__\", \"__module__\", \"__ne__\", \"__new__\", \"__reduce__\", \"__reduce_ex__\", \"__repr__\", \"__setattr__\", \"__sizeof__\", \"__str__\", \"__subclasshook__\", \"__weakref__\", \"_compute_statistics\", \"_create_diff_matrix\", \"_create_formula\", \"_estimate_ates\", \"_estimate_gates\", \"_fit\", \"_fitted\", \"convert_dataframe_to_pandas\", \"discrete_treatment\", \"engine\", \"estimate_cate\", \"fit\", \"formula\", \"results\"]"
          }
        }
      ],
      "console": []
    },
    {
      "id": "xxUI",
      "code_hash": null,
      "outputs": [
        {
          "type": "data",
          "data": {
            "text/html": "<pre style='font-size: 12px'>True</pre>"
          }
        }
      ],
      "console": []
    },
    {
      "id": "SoYd",
      "code_hash": null,
      "outputs": [
        {
          "type": "data",
          "data": {
            "text/plain": ""
          }
        }
      ],
      "console": []
    },
    {
      "id": "zwUb",
      "code_hash": null,
      "outputs": [
        {
          "type": "data",
          "data": {
            "text/html": "<pre style='font-size: 12px'>&#x27;FastLSTSQ&#x27;</pre>"
          }
        }
      ],
      "console": []
    },
    {
      "id": "tERy",
      "code_hash": null,
      "outputs": [
        {
          "type": "data",
          "data": {
            "application/json": "{\"outcomes\": [\"Y1\", \"Y2\", \"Y3\"], \"ate\": \"text/plain:[ 0.00961466 -0.00682365  0.00342111]\", \"std_err\": \"text/plain:[0.0062056  0.00620381 0.00621047]\", \"t_stat\": \"text/plain:[ 1.54935223 -1.09991209  0.55086242]\", \"pval\": \"text/plain:[0.12129707 1.72862957 0.58172799]\", \"n\": 19929, \"n_treated\": 9954, \"n_control\": 9975}"
          }
        }
      ],
      "console": []
    },
    {
      "id": "pqBd",
      "code_hash": null,
      "outputs": [
        {
          "type": "data",
          "data": {
            "text/html": "<pre style='font-size: 12px'>&#x27;\\n    FastLSTSQ is a fast implementation of the LSTSQ estimator.\\n    &#x27;</pre>"
          }
        }
      ],
      "console": []
    },
    {
      "id": "hnYx",
      "code_hash": null,
      "outputs": [
        {
          "type": "data",
          "data": {
            "text/html": "<marimo-ui-element object-id='hnYx-0' random-id='6899ae02-c725-06ab-a847-0dae69b06bef'><marimo-table data-initial-value='[]' data-label='null' data-data='&quot;./@file/2789-2598630-HJINSqiN.csv&quot;' data-total-rows='19929' data-total-columns='23' data-banner-text='&quot;&quot;' data-pagination='true' data-page-size='10' data-field-types='[[&quot;Y1&quot;, [&quot;number&quot;, &quot;float64&quot;]], [&quot;Y2&quot;, [&quot;number&quot;, &quot;float64&quot;]], [&quot;Y3&quot;, [&quot;number&quot;, &quot;float64&quot;]], [&quot;T&quot;, [&quot;integer&quot;, &quot;int64&quot;]], [&quot;G1&quot;, [&quot;string&quot;, &quot;category&quot;]], [&quot;G2&quot;, [&quot;string&quot;, &quot;category&quot;]], [&quot;G3&quot;, [&quot;string&quot;, &quot;category&quot;]], [&quot;G4&quot;, [&quot;string&quot;, &quot;category&quot;]], [&quot;G5&quot;, [&quot;string&quot;, &quot;category&quot;]], [&quot;G6&quot;, [&quot;string&quot;, &quot;category&quot;]], [&quot;G7&quot;, [&quot;string&quot;, &quot;category&quot;]], [&quot;G8&quot;, [&quot;string&quot;, &quot;category&quot;]], [&quot;X1&quot;, [&quot;number&quot;, &quot;float64&quot;]], [&quot;X2&quot;, [&quot;number&quot;, &quot;float64&quot;]], [&quot;X3&quot;, [&quot;number&quot;, &quot;float64&quot;]], [&quot;W1&quot;, [&quot;number&quot;, &quot;float64&quot;]], [&quot;W2&quot;, [&quot;number&quot;, &quot;float64&quot;]], [&quot;W3&quot;, [&quot;number&quot;, &quot;float64&quot;]], [&quot;W4&quot;, [&quot;number&quot;, &quot;float64&quot;]], [&quot;W5&quot;, [&quot;number&quot;, &quot;float64&quot;]], [&quot;W6&quot;, [&quot;number&quot;, &quot;float64&quot;]], [&quot;product_group&quot;, [&quot;string&quot;, &quot;object&quot;]], [&quot;modality&quot;, [&quot;string&quot;, &quot;object&quot;]]]' data-show-filters='true' data-show-download='true' data-show-column-summaries='true' data-row-headers='[&quot;&quot;]' data-has-stable-row-id='false'></marimo-table></marimo-ui-element>"
          }
        }
      ],
      "console": []
    },
    {
      "id": "bzkw",
      "code_hash": null,
      "outputs": [
        {
          "type": "data",
          "data": {
            "text/html": "<pre style='font-size: 12px'>920000000</pre>"
          }
        }
      ],
      "console": []
    },
    {
      "id": "gKkg",
      "code_hash": null,
      "outputs": [
        {
          "type": "error",
          "ename": "exception",
          "evalue": "This cell raised an exception: TypeCheckError('argument \"memory_per_job\" (float) is not an instance of int')",
          "traceback": []
        }
      ],
      "console": [
        {
          "type": "stream",
          "name": "stderr",
          "text": "<span class=\"codehilite\"><div class=\"highlight\"><pre><span></span><span class=\"gt\">Traceback (most recent call last):</span>\n  File <span class=\"nb\">&quot;/home/jadmin/projects/caml/.venv/lib/python3.10/site-packages/marimo/_runtime/executor.py&quot;</span>, line <span class=\"m\">141</span>, in <span class=\"n\">execute_cell</span>\n<span class=\"w\">    </span><span class=\"n\">exec</span><span class=\"p\">(</span><span class=\"n\">cell</span><span class=\"o\">.</span><span class=\"n\">body</span><span class=\"p\">,</span> <span class=\"n\">glbls</span><span class=\"p\">)</span>\n  File <span class=\"nb\">&quot;/tmp/marimo_2754742/__marimo__cell_gKkg_.py&quot;</span>, line <span class=\"m\">14</span>, in <span class=\"n\">&lt;module&gt;</span>\n<span class=\"w\">    </span><span class=\"n\">n_jobs</span> <span class=\"o\">=</span> <span class=\"n\">fu</span><span class=\"o\">.</span><span class=\"n\">_calculate_optimal_jobs</span><span class=\"p\">(</span>\n  File <span class=\"nb\">&quot;/home/jadmin/projects/caml/caml/traditional/fastlstsq.py&quot;</span>, line <span class=\"m\">391</span>, in <span class=\"n\">_calculate_optimal_jobs</span>\n<span class=\"w\">    </span><span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">_calculate_optimal_jobs</span><span class=\"p\">(</span><span class=\"n\">memory_per_job</span><span class=\"p\">:</span> <span class=\"nb\">int</span><span class=\"p\">,</span> <span class=\"n\">total_memory_limit</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.8</span><span class=\"p\">)</span> <span class=\"o\">-&gt;</span> <span class=\"nb\">int</span><span class=\"p\">:</span>\n  File <span class=\"nb\">&quot;/home/jadmin/projects/caml/.venv/lib/python3.10/site-packages/typeguard/_functions.py&quot;</span>, line <span class=\"m\">137</span>, in <span class=\"n\">check_argument_types</span>\n<span class=\"w\">    </span><span class=\"n\">check_type_internal</span><span class=\"p\">(</span><span class=\"n\">value</span><span class=\"p\">,</span> <span class=\"n\">annotation</span><span class=\"p\">,</span> <span class=\"n\">memo</span><span class=\"p\">)</span>\n  File <span class=\"nb\">&quot;/home/jadmin/projects/caml/.venv/lib/python3.10/site-packages/typeguard/_checkers.py&quot;</span>, line <span class=\"m\">956</span>, in <span class=\"n\">check_type_internal</span>\n<span class=\"w\">    </span><span class=\"k\">raise</span> <span class=\"n\">TypeCheckError</span><span class=\"p\">(</span><span class=\"sa\">f</span><span class=\"s2\">&quot;is not an instance of </span><span class=\"si\">{</span><span class=\"n\">qualified_name</span><span class=\"p\">(</span><span class=\"n\">origin_type</span><span class=\"p\">)</span><span class=\"si\">}</span><span class=\"s2\">&quot;</span><span class=\"p\">)</span>\n<span class=\"gr\">typeguard.TypeCheckError</span>: <span class=\"n\">argument &quot;memory_per_job&quot; (float) is not an instance of int</span>\n</pre></div>\n</span>"
        }
      ]
    },
    {
      "id": "Kclp",
      "code_hash": null,
      "outputs": [
        {
          "type": "data",
          "data": {
            "text/plain": ""
          }
        }
      ],
      "console": [
        {
          "type": "stream",
          "name": "stdout",
          "text": "[03/09/25 00:18:39] INFO     Converting data to design          fastlstsq.py:146\n                             matrix...                                          \n"
        },
        {
          "type": "stream",
          "name": "stdout",
          "text": "[03/09/25 00:19:05] DEBUG    Design matrix conversion completed fastlstsq.py:150\n                             in 26.88 seconds                                   \n                    DEBUG    Moving data to cpu                 fastlstsq.py:152\n                    DEBUG    Data shape - X: (5000000, 78), y:  fastlstsq.py:157\n                             (5000000, 3)                                       \n                    DEBUG    Data transfer completed in 0.00    fastlstsq.py:162\n                             seconds                                            \n                    INFO     Fitting regression model...        fastlstsq.py:164\n"
        },
        {
          "type": "stream",
          "name": "stdout",
          "text": "                    DEBUG    Model fitting completed in 0.05    fastlstsq.py:189\n                             seconds                                            \n                    DEBUG    Creating treatment difference      fastlstsq.py:301\n                             matrix                                             \n"
        },
        {
          "type": "stream",
          "name": "stdout",
          "text": "[03/09/25 00:20:10] DEBUG    Difference matrix created in 64.14 fastlstsq.py:320\n                             seconds. Shape: (5000000, 78)                      \n                    INFO     Estimating Average Treatment       fastlstsq.py:201\n                             Effects (ATEs)...                                  \n"
        },
        {
          "type": "stream",
          "name": "stdout",
          "text": "                    DEBUG    ATE estimation completed in 0.02   fastlstsq.py:220\n                             seconds                                            \n                    INFO     Estimating Group Average Treatment fastlstsq.py:242\n                             Effects (GATEs)...                                 \n"
        },
        {
          "type": "stream",
          "name": "stdout",
          "text": "[03/09/25 00:20:14] DEBUG    Starting parallel processing with  fastlstsq.py:285\n                             -1 jobs                                            \n"
        }
      ]
    },
    {
      "id": "pwvN",
      "code_hash": null,
      "outputs": [
        {
          "type": "data",
          "data": {
            "text/html": "<pre style='font-size: 12px'>2.0</pre>"
          }
        }
      ],
      "console": []
    },
    {
      "id": "tnrh",
      "code_hash": null,
      "outputs": [
        {
          "type": "data",
          "data": {
            "text/html": "<pre style='font-size: 12px'>25413758976</pre>"
          }
        }
      ],
      "console": []
    },
    {
      "id": "emfo",
      "code_hash": null,
      "outputs": [],
      "console": []
    },
    {
      "id": "Hstk",
      "code_hash": null,
      "outputs": [],
      "console": []
    },
    {
      "id": "hMlt",
      "code_hash": null,
      "outputs": [
        {
          "type": "data",
          "data": {
            "text/html": "<pre style='font-size: 12px'>27</pre>"
          }
        }
      ],
      "console": []
    },
    {
      "id": "rrus",
      "code_hash": null,
      "outputs": [
        {
          "type": "error",
          "ename": "exception",
          "evalue": "This cell raised an exception: AttributeError(''DataFrame' object has no attribute 'nbytes'')",
          "traceback": []
        }
      ],
      "console": [
        {
          "type": "stream",
          "name": "stderr",
          "text": "<span class=\"codehilite\"><div class=\"highlight\"><pre><span></span><span class=\"gt\">Traceback (most recent call last):</span>\n  File <span class=\"nb\">&quot;/home/jadmin/projects/caml/.venv/lib/python3.10/site-packages/marimo/_runtime/executor.py&quot;</span>, line <span class=\"m\">142</span>, in <span class=\"n\">execute_cell</span>\n<span class=\"w\">    </span><span class=\"k\">return</span> <span class=\"nb\">eval</span><span class=\"p\">(</span><span class=\"n\">cell</span><span class=\"o\">.</span><span class=\"n\">last_expr</span><span class=\"p\">,</span> <span class=\"n\">glbls</span><span class=\"p\">)</span>\n  File <span class=\"nb\">&quot;/tmp/marimo_2839610/__marimo__cell_rrus_.py&quot;</span>, line <span class=\"m\">1</span>, in <span class=\"n\">&lt;module&gt;</span>\n<span class=\"w\">    </span><span class=\"n\">df</span><span class=\"o\">.</span><span class=\"n\">nbytes</span>\n  File <span class=\"nb\">&quot;/home/jadmin/projects/caml/.venv/lib/python3.10/site-packages/pandas/core/generic.py&quot;</span>, line <span class=\"m\">6299</span>, in <span class=\"n\">__getattr__</span>\n<span class=\"w\">    </span><span class=\"k\">return</span> <span class=\"nb\">object</span><span class=\"o\">.</span><span class=\"fm\">__getattribute__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">name</span><span class=\"p\">)</span>\n<span class=\"gr\">AttributeError</span>: <span class=\"n\">&#39;DataFrame&#39; object has no attribute &#39;nbytes&#39;</span>\n</pre></div>\n</span>"
        }
      ]
    },
    {
      "id": "ckEc",
      "code_hash": null,
      "outputs": [
        {
          "type": "data",
          "data": {
            "application/json": "{\"outcomes\": [\"Y1\", \"Y2\", \"Y3\"], \"ate\": \"text/plain:[ 0.00293429 -0.00414922  0.02324453]\", \"std_err\": \"text/plain:[0.00951845 0.00951085 0.00952897]\", \"t_stat\": \"text/plain:[ 0.30827408 -0.43626132  2.43935464]\", \"pval\": \"text/plain:[0.75787378 1.33735286 0.01471352]\", \"n\": 3133, \"n_treated\": 1546, \"n_control\": 1587}"
          }
        }
      ],
      "console": [
        {
          "type": "stream",
          "name": "stdout",
          "text": "[03/09/25 00:53:08] DEBUG    Creating treatment difference      fastlstsq.py:279\n                             matrix                                             \n"
        },
        {
          "type": "stream",
          "name": "stdout",
          "text": "                    DEBUG    Difference matrix created in 0.04  fastlstsq.py:298\n                             seconds. Shape: (3133, 78)                         \n                    INFO     Estimating single Conditional       fastlstsq.py:99\n                             Average Treatment Effect (CATE)...                 \n"
        }
      ]
    }
  ]
}
